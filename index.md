
<html>
<head>
    <meta charset="UTF-8">
    <title>JSON security</title>
    <style>
    @import url('https://fonts.googleapis.com/css?family=Amiri|Scheherazade');
    .txt {
    font-family: 'Scheherazade', Tahoma;
    font-size: 24px;
    }
    #head{
    color = blue;
    font-family: 'Scheherazade', Tahoma;
    font-size: 24px;
    }
    </style>
</head>
<body>
<div dir="rtl" class="txt">
<h2 id="head">گوگل در ابتدای پاسخ‌های JSONای که private هستند یک حلقه به صورت (1)while می‌گذارد. علت این کار چیست؟</h2>

<p>این عمل از ربوده شدن JSON جلوگیری می‌کند. در تئوری محتوای پاسخ‌های HTTP با سیاست same origin محافظت می‌شوند: صفحات از یک دامنه نمی‌توانند اطلاعاتی از صفحات از دامنه‌ای دیگر به دست بیاورند. در نتیجه سایت‌های مخرب نمی‌توانند درخواست‌های AJAX بدهند، اما می‌توانند از طریق تگ script شامل URL شوند و از این طریق محتوای آبجکت های JSON را بخوانند.</p>
<p>گوگل با قرار دادن (1)while در ابتدای محتوای JSON اطمینان حاصل می‌کند که محتوای آن به عنوان کد جاوا اسکریپت خوانده نمی‌شود و حمله کننده‌ها در (1)while گیر می‌کنند. گاهی نیز با قرار دادن توکن‌های نامعتبر مانند &&&start&&& قبل از JSON از اجرا نشدن آن مطمئن می‌شوند.  </p>
<p>کارهای مشابهی مثل قراردادن ;( ; ; )forنیز در فیسبوک دیده شده که عملکردی مشابه آنچه گفته شد دارند.</p>
<P>با درخواست AJAX میتوان به کل محتوای JSON دسترسی کامل پیدا کرد اما قرار دادن یک تگ script بدون هیچ گونه پردازشی صرفا کد را به صورت کورکورانه اجرا می‌کند، درنتیجه میتوان به سادگی باعث شد که در حلقه بی نهایت بیفتد و یا با خطای syntax مواجه شود.</P>
<p>خواندن محتوای JSON ها با جاوااسکریپت به این صورت انجام می شود که global array object را بازتغریف می‌کنند، به طوری که هرگاه مقدار یک property ست می‌شود، حتی وقتی آرایه ساخته میشود، مقدارش به بیرون فرستاده می شود. نتیجه اینکه یک وبسایت سوم میتواند پاسخ ها را شنود کند.</p>
</div>

</body>
</html>
